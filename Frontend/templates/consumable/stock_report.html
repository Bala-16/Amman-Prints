<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stock Report</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-50 via-lime-50/40 to-green-50/40 p-6">

<div class="max-w-[1600px] mx-auto space-y-6">

  <!-- HEADER -->
  <div class="bg-gradient-to-r from-teal-700 to-cyan-600 rounded-xl p-6 shadow-xl flex justify-between items-center">
    <h1 class="text-2xl font-bold text-white">Stock Report</h1>

    <div class="flex gap-2">
      <button onclick="printReport()" class="bg-white text-teal-700 px-4 py-2 rounded-lg shadow flex items-center gap-2">
        <i data-lucide="printer"></i> Print
      </button>
    </div>
  </div>

  <!-- FILTERS -->
  <div class="bg-white/80 backdrop-blur rounded-xl shadow p-6 grid grid-cols-1 md:grid-cols-5 gap-4 items-end">
    
    <div>
      <label class="text-sm font-medium text-slate-600">From Date</label>
      <input id="fromDate" type="date" class="w-full border rounded-lg px-3 py-2">
    </div>

    <div>
      <label class="text-sm font-medium text-slate-600">Item Name</label>
      <input type="text" placeholder="Optional" class="w-full border rounded-lg px-3 py-2">
    </div>

    <div>
      <label class="text-sm font-medium text-slate-600">Type</label>
      <select class="w-full border rounded-lg px-3 py-2">
        <option>Summary</option>
        <option>Detailed</option>
      </select>
    </div>

    <div class="flex gap-2">
      <button onclick="searchData()" class="bg-teal-700 text-white px-6 py-2 rounded-lg flex items-center gap-2">
        <i data-lucide="search"></i> Search
      </button>
    </div>

  </div>

  <!-- REPORT AREA -->
  <div id="reportArea" class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <!-- MEDIA STOCK -->
    <div class="bg-white/80 backdrop-blur rounded-xl shadow overflow-hidden">
      <div class="bg-slate-100 px-4 py-3 font-semibold text-slate-700">
        Media Stock (Qty in MTR)
      </div>

      <table class="w-full text-sm">
        <thead class="bg-slate-50">
          <tr>
            <th class="p-3 text-left">Media Particulars</th>
            <th class="p-3 text-right">Qty</th>
          </tr>
        </thead>
        <tbody id="mediaTable"></tbody>
      </table>
    </div>

    <!-- INK STOCK -->
    <div class="bg-white/80 backdrop-blur rounded-xl shadow overflow-hidden">
      <div class="bg-slate-100 px-4 py-3 font-semibold text-slate-700">
        Ink Stock (Qty in Liter)
      </div>

      <table class="w-full text-sm">
        <thead class="bg-slate-50">
          <tr>
            <th class="p-3 text-left">Ink Particulars</th>
            <th class="p-3 text-right">Qty</th>
          </tr>
        </thead>
        <tbody id="inkTable"></tbody>
      </table>
    </div>

  </div>

</div>

<script>
lucide.createIcons()

// SAMPLE DATA (replace with API later)
const mediaStock = [
  { name: "36-R6", qty: 130, date: "2024-04-01" },
  { name: "36-R7*", qty: 141, date: "2024-04-01" },
  { name: "36-R8", qty: 650, date: "2024-04-02" },
  { name: "44-IMP", qty: 40000.55, date: "2024-04-03" },
  { name: "44-R6", qty: 7739.72, date: "2024-04-03" }
]

const inkStock = [
  { name: "BLACK", qty: 404, date: "2024-04-01" }
]

function renderTables(dataMedia, dataInk) {
  mediaTable.innerHTML = ""
  inkTable.innerHTML = ""

  dataMedia.forEach(row => {
    mediaTable.innerHTML += `
      <tr class="border-t hover:bg-slate-50">
        <td class="p-3">${row.name}</td>
        <td class="p-3 text-right">${row.qty.toLocaleString()}</td>
      </tr>`
  })

  dataInk.forEach(row => {
    inkTable.innerHTML += `
      <tr class="border-t hover:bg-slate-50">
        <td class="p-3">${row.name}</td>
        <td class="p-3 text-right">${row.qty.toLocaleString()}</td>
      </tr>`
  })
}

// SEARCH BY DATE
function searchData() {
  const from = fromDate.value
  if (!from) {
    renderTables(mediaStock, inkStock)
    return
  }

  const filteredMedia = mediaStock.filter(i => i.date >= from)
  const filteredInk = inkStock.filter(i => i.date >= from)

  renderTables(filteredMedia, filteredInk)
}

// PRINT
function printReport() {
  const printContents = document.getElementById("reportArea").innerHTML
  const original = document.body.innerHTML

  document.body.innerHTML = `
    <h2 style="text-align:center;margin-bottom:20px;">Stock Report</h2>
    ${printContents}
  `
  window.print()
  document.body.innerHTML = original
  location.reload()
}

// INITIAL LOAD
renderTables(mediaStock, inkStock)
</script>

</body>
</html>